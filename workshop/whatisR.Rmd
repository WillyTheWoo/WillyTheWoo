---
title: "Principles of Data Visualization in R Workshop: What is R?"
author: "Willy Chen"
date: "Workshop 1"
output: 
  html_document:
    toc: true
    toc_float: true
    css: eye.css
    theme: readable
---
[Click here to return to the menu](https://willythewoo.github.io/WillyTheWoo/workshop/menu.html)

R is an object-oriented statistical language that is based on the language S which is based on C. Hence everything you do in R actually gets boiled down to C for your computer to understand. Cool, right?

Any ways, to understand R, there are some basics you need to know.

# Data/value type
Before we talk about all the bells and whistles in R, let's first talk about values. There are 6 types of values in R and in most languages:

## Integer
An integer is a whole number that does not have decimals.

## Numeric
A numeric is a number that can be any number with or without decimals. Note that an integer can be transformed into a numeric without losing information while a numeric transformed into an integer can lose the information after the decimals. For example,
```{r}
as.integer(2.2)
```
```{r}
as.numeric(2)
```

## Boolean/Logical
A boolean [Boo-Lee-en] or logical value takes on either `TRUE` or `FALSE`. If you make a logical value numeric or integer, you will get 1 for a true value and a 0 for a false value. You can also as make 0 into `FALSE` and any non-zero value into `TRUE. For example,
```{r}
as.logical(0)
as.logical(5)
as.integer(TRUE)
as.numeric(FALSE)
```

## String/character
String/character values are just texts. Any text value is a string. A number can also be read as a string. If you see a number read as a string, you can revert it back to a number using `as.numeric()`
```{r}
class(as.character(1))
class(as.numeric(as.character(1)))
```

## NA (Special case)
`NA`'s are tricky to deal with as it is not actually a type of values. Instead of representing a value, `NA` represents the **absences of a value**. Any value operated in conjugation with `NA` will give you a `NA`. If you compare 2 values, you get actual values, but if you do it with `NA`, you always get `NA`. For example, 
```{r}
2+2
2+TRUE
2==2

2+NA
2==NA
2<NA
NA==NA
```
To check whether something is `NA`, you can use `is.na()` or `anyNA()`.
```{r}
is.na(NA)
anyNA(c(NA,2,1))
```


As you might realized form the examples above, you can do the basic operations with values using `+,-,*,/` and compare the size of the values with `==`(two equal signs), `<,<=,>,>=`.

This concludes our introduction to values.

# Object type
R, like I said, is an object-oriented language. This means it is crucial we understand what *objects* are. Obejcts are things that we store values in, they are literal objects that we use to tell the computer *what* we are trying to do and *what* we are doing this to. From the basics of the basics, we have the following objects. Before you continue, copy,paste, and run the following chunk of code in your RStudio console.

```{r}
vector1<-1
vector2<-2
vector3<-c(1,2,4)
matrix1<-matrix(c(1,2,3,4),nrow=2)
dataframe1<-data.frame(matrix1)
```


## [Atomic] Vectors
Vectors are the basic things we store our values in. A vector is a set of values that you set an order to. To create a vector, you write the name of the vector you want to create, put an assignment operator "<-" next to it, and then start you vector with a "c" followed by a pair of parentheses with the values in the vector separated by commas. For example `myvector <- c(1,2,3)` will give you `r myvector <- c(1,2,3)`

```{r echo=FALSE}
myvector
```

As you can see from the code chunk I asked you to run, there is a vector called `vector1` and a vector called `vector2`. Both of these vectors are displayed as a valueo in RStudio, showing you that if you don't create a vector for a single value, R will just take it as a vector with one element. `vector3` shows you what a vector with multiple value looks like.

If you were versed at linear algebra or matrix algebra at somepoint in your life, you're probably thinking, are the vectors vertical or horizontal?

And the answer is: Neither! The only time the direction your vector would matter is if you are mergiing it with a data set. In that case, you will use specific functions to merge them and the direction of the vector is specified in the function you use.

To create a sequential vector you can use `:` to create a vector of a sequence added by 1. If you want different gaps, you can use `seq()`. For example,
```{r}
1:10
seq(1,10,2)
```


**Important note**: A vector can only contain one value type. You will get an error if you make a vector of numerics and logicals. `NA`'s are not subject to this rule becasue `NA` is not a value, it is the absence of a value.

## Data Frames
If you use the `as.matrix()` or `matrix()` functions on a vector, you could transform it into a matrix. However, unless you are doing matrix operations to solve for equations by hand, you are not going to need it. Instead, to deal with a rectangular form of data, we have what is called a data frame. Data frames come in many types, it can be a `data.frame`, a `data.table`, a `tibble`, etc. At this stage, all you need to know is that a data frame is what you would imagine an excel sheet would look like. It has columns storing different types of values like name, salary, grades, etc. And each row in the data frame represents an observation of your data. To create a simple data frame, we can either use a matrix or multiple vectors in conjugate with the `data.frame()` function.
```{r}
df<-data.frame(vector3,myvector)
str(df)
```
To add a vector to your data frame, use `bind_cols()` and `bind_rows()` to add either a column or row to your data frame.
**Becasue vectors, matrices, and data frames store your "data", they also have a special name called "data objects"**

## Functions
Functions are objects that takes in an object, does some operations with it, and spits back an object. functions are in the general form of `function(arguments...)` where the arguments of the function are specified by different objects and values for the operation. You might have been wondering what I've been doing with `class()`, `str()`, `as.numeric`, `data.frame()`, etc. These are all functions that does specific things. If you want to see what a function does, just type in `?` before the function you want to check in the console and hit enter/return. For example, type in `?class` and see what it says. 

The answer is, it tells you what the object type or value type of the thing you just fed it is. `class(2)` would give you "numeric" and `class(TRUE)` will give you "logical".

We will learn about more complicated and versatile functions later. As of writing your own functions, I will omit that for now. If need be, I can talk about it later or add it back in here. 


# Syntax and Semantics
Semantics is how you communicate with your computer in the language you have chosen. Every language (even the real languages like English) have a set of rules that tell you how words are arranged [syntax] and whay they mean [semantics]. In R, there are only a couple you need to remember:

## Assignment operator

`<-` is your assignment operator. You use this to assign values to objects. You can also use `=` as assignments like python but why would you?

## Selection operator
`[]` is your selection operator for data objects [vectors, matrices, data frames]. As you might have realized, comma gives you the sense of ordering within data objects, however, in selection operator, comma is used for direction. To select an element of a vector, you would put the selection operator next to your vector. For example, `myvector[2]` will give me the second element of the vector `myvector`. To select something out of a 2D data object (matrices, data frames), simply use the syntax `2Dobject[row,column]`. The first index represents the row you want, and the second index represents the column you want.

Now you migh be thinking, "What is I want multiple columns of one row?" This is where vector comes in. Recall that comma in vectors represents ordering, so say you want the second and forth column for the 5th row from `2Dobject` you would write `2Dobject[5,c(2,4)]`. Remember, you can also use `:` or `seq` or a combination of all these things as indices in your selection operator.


# Try it yourself!
1. Create a data frame that has all the even numbers from 1 to 1000 in the first column and all the odd numbers from 1 to 1000 in the second columns and call this `mydf`.

2. Using the selection operator `[]`, find the sub-data frame in `mydf` such that it only contains numbers less than 100 or greater than 900. (Hint: You can put logical values in selection, try and see how it works)

3. Use the following code [copy and paste on to your console] to obtain a data frame called `ps1.csv`. How many `NA`'s are there in this data frame. (Hint: you can sum up a vector using `sum()`)

`read.csv("https://willythewoo.github.io/WillyTheWoo/workshop/data/ps1.csv")`


# That is the end of the first workshop! 
[Click here to start the next workshop: Introduction to tidyverse](https://willythewoo.github.io/WillyTheWoo/workshop/tidyverse.html)

[Click here to return to the menu](https://willythewoo.github.io/WillyTheWoo/workshop/menu.html)