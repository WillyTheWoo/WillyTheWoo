}
play(2,'k',CPU,User_track)
View(User_track)
library(shiny)
library(tidyverse)
COVID_19_Resource<- read_csv("Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")
library(tidyverse)
library(shiny)
COVID_19_Resource<- read_csv("Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")
COVID_19_Resource<- read_csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")
View(COVID_19_Resource)
variable.names(COVID_19_Resource)
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate()
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"statewide",City))
View(COVID_19_Resource)
str_detect(variable.names(COVID_19_Resource),regex("X\\d+"))
str_detect(variable.names(COVID_19_Resource),regex("X"))
str_detect(variable.names(COVID_19_Resource),regex("X//d+"))
str_detect(variable.names(COVID_19_Resource),regex("X\\d+"))
str_detect(variable.names(COVID_19_Resource),regex("X\d+"))
str_detect(variable.names(COVID_19_Resource),regex("X/d+"))
str_detect(variable.names(COVID_19_Resource),regex("X\\d+"))
str_detect(variable.names(COVID_19_Resource),regex("X"))
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"statewide",City))%>%
select(!str_detect(variable.names(COVID_19_Resource),regex("X")))
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"statewide",City))%>%
select(variable.names(COVID_19_Resource)[,!str_detect(variable.names(COVID_19_Resource),regex("X"))])
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"statewide",City))%>%
select(variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("X")),])
variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("X")),]
variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("X"))]
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"statewide",City))%>%
select(variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("X"))])
View(COVID_19_Resource)
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City))%>%
select(variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("X"))])
distinct(COVID_19_Resource$State)
unique(COVID_19_Resource$State)
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City))%>%
select(variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("X"))])
variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("X"))]
COVID_19_Resource<-select(as.vector(variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("X"))]))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]
knitr::opts_chunk$set(echo=FALSE,message=FALSE,warning=FALSE)
library(tidyverse)
library(shiny)
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]
COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]
View(COVID_19_Resource)
names(COVID_19_Resource)<-str_replace(variable.names(COVID_19_Resource),"."," ")
View(COVID_19_Resource)
str_replace(variable.names(COVID_19_Resource),"."," ")
names(COVID_19_Resource)<-str_replace(variable.names(COVID_19_Resource),pattern=".",rep=" ")
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]
str_replace(variable.names(COVID_19_Resource),pattern=".",rep=" ")
str_replace(variable.names(COVID_19_Resource),pattern="\.",rep=" ")
str_replace(variable.names(COVID_19_Resource),pattern="\\.",rep=" ")
names(COVID_19_Resource)<-str_replace_all(variable.names(COVID_19_Resource),pattern="\\.",rep=" ")
View(COVID_19_Resource)
knitr::opts_chunk$set(echo=FALSE,message=FALSE,warning=FALSE)
library(tidyverse)
library(shiny)
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]
names(COVID_19_Resource)<-str_replace_all(variable.names(COVID_19_Resource),pattern="\\.",rep=" ")
View(COVID_19_Resource)
table<-COVID_19_Resource%>%
filter(State==input$state,city=ifelse(input$City=="Statewide",NULL,input$City))
knitr::opts_chunk$set(echo=FALSE,message=FALSE,warning=FALSE)
library(tidyverse)
library(shiny)
COVID_19_Resource<- read.csv("~/Documents/OneDrive - The Ohio State University/R/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)
names(COVID_19_Resource)<-str_replace_all(variable.names(COVID_19_Resource),pattern="\\.",rep=" ")
unique(COVID_19_Resource$State)[-'ALL']
unique(COVID_19_Resource$State)[-ALL]
unique(COVID_19_Resource$State)[-'ALL']
unique(COVID_19_Resource$State)
unique(COVID_19_Resource$State)[-'FEDERAL']
unique(COVID_19_Resource$State)['FEDERAL']
unique(COVID_19_Resource$State)[FEDERAL]
unique(COVID_19_Resource$State)
unique(COVID_19_Resource$State)["FEDERAL"]
unique(COVID_19_Resource$State)
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
mutate(State=ifelse(State=="FEDERAL","ALL",State))
unique(COVID_19_Resource$State)
unique(COVID_19_Resource$State)["AL"]
unique(COVID_19_Resource$State)[!str_detect(unique(COVID_19_Resource$State),"ALL")]
u<-fluidPage(
titlePanel("COVID-19 Resource List"),
sidebarLayout(
sidebarPanel(selectInput("state","State",c("All",unique(COVID_19_Resource$State)[!str_detect(unique(COVID_19_Resource$State),"ALL")])),
br(),
(selectInput("city","City",unique(COVID_19_Resource$City))
)),
mainPanel("Resources in your select area",
br(),
tableOutput("resource")
)
)
)
sys.dae
Sys.Date()
?renderTable
install.packages("shinythemes")
install.packages('rsconnect')
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='<SECRET>')
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='<SECRET>')
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='<SECRET>')
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='<SECRET>')
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='<SECRET>')
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='<SECRET>')
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='4lfxUC1RDYnrXfydtnQjLfP4AxKGe5EJMW40EIIP')
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='4lfxUC1RDYnrXfydtnQjLfP4AxKGe5EJMW40EIIP')
deployApp(appName="COVID.Rmd", account="willychen")
rsconnect::deployApp(appName="COVID.Rmd", account="willychen")
rsconnect::deployApp()
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='4lfxUC1RDYnrXfydtnQjLfP4AxKGe5EJMW40EIIP')
rsconnect::deployApp()
rsconnect::deployApp()
Eviction<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/eviction_resources.csv")
Eviction<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/eviction_resources.csv")
Eviction<-read.csv("eviction_resources.csv")
View(Eviction)
variable.names(Eviction)
Eviction<-read.csv("eviction_resources.csv")
Eviction<-read.csv("eviction_resources.csv")
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")
library(tidyverse)
Eviction<-read_csv("eviction_resources.csv")
View(Eviction)
u<-fluidPage(
# tags$style(".content {background-color: black;
#            margin-left:-200px}"),
mainPanel(
fluidRow(
column(5,selectInput("state","Select a state",c("All states",unique(c(str_remove(COVID_19_Resource$State," "),Eviction$State))))),
column(5,(selectInput("city","Select a city",c("Statewide",unique(arrange(COVID_19_Resource,City)$City))))
#        ),
# column(5,(selectInput("res","Select a resource",c('All',variable.names(COVID_19_Resource)[!str_detect(variable.names(COVID_19_Resource),regex("Date|Link|notes"))][-c(1,2)])))
)
),
h2("Resources in your selected area"),
h4("Note: UI = Unemployment Insurance, DI = Disability Insurance"),
tabsetPanel(
tabPanel("Labor",tableOutput("labor")),
tabPanel("Medical", h2("Coming Soon")),
tabPanel("Closure & S.I.P.", h2("Coming Soon")),
tabPanel("Disability & High Risk", h2("Coming Soon")),
tabPanel("Food, Rent & Bill", tableOutput("rent"))
)
),
theme = shinytheme("united")
)
View(Eviction)
Eviction%>%filter(State=="Federal")
Eviction%>%filter(State=="CA")
Eviction<-read_csv("eviction_resources.csv")
Eviction<-read_csv("eviction_resources.csv")
setwd("~/Documents/GitHub/WillyTheWoo/COVID")
Eviction<-read_csv("eviction_resources.csv")
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local","Statewide",City))
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"))
View(Eviction)
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
'Date updated'=str_remove('Date updated',regex(" .+"))
)
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_replace(Date.Updated,regex(" .+"))
)
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_replace(Date.Updated,regex(" .+"))
)
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov)
View(Eviction)
states<-unuique(c(unique(COVID_19_Resource$State),unique(Eviction$State)))
states<-unique(c(unique(COVID_19_Resource$State),unique(Eviction$State)))
COVID_19_Resource<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City),
State=str_remove(State," "),
City=str_remove(City," "))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")
names(COVID_19_Resource)<-str_replace_all(variable.names(COVID_19_Resource),pattern="\\.",rep=" ")%>%
str_replace_all(patter="UI DI",rep="UI/DI")
states<-unique(c(unique(COVID_19_Resource$State),unique(Eviction$State)))
states
states<-sort(unique(c(unique(COVID_19_Resource$State),unique(Eviction$State))))
states
states<-c("All states",sort(unique(c(unique(COVID_19_Resource$State),unique(Eviction$State)))))
Cities<-c("Statewide",sort(unique(c(unique(COVID_19_Resource$City),unique(Eviction$City)))))
cities<-c("Statewide",sort(unique(c(unique(COVID_19_Resource$City),unique(Eviction$City)))))
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov,State,everything())
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov,State,everything())
View(Eviction)
Eviction<-read_csv("eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov)%>%
select(State,everything())
View(Eviction)
ymd(3/18)
library(lubridate)
ymd(3/18)
ymd(2020/3/18)
ymd(3/18/20)
ymd(3/18/2020)
ymd('3/18/2020')
ymd('2020/3/18')
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=ymd(paste('2020',as.character(Date.of.update),sep="")))
COVID_19_Resource<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City),
State=str_remove(State," "),
City=str_remove(City," "))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=ymd(paste('2020',as.character(Date.of.update),sep="")))
View(COVID_19_Resource)
COVID_19_Resource<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City),
State=str_remove(State," "),
City=str_remove(City," "))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=paste('2020',as.character(Date.of.update),sep=""))
View(COVID_19_Resource)
COVID_19_Resource<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City),
State=str_remove(State," "),
City=str_remove(City," "))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=paste('2020/',as.character(Date.of.update),sep=""))
View(COVID_19_Resource)
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=ymd(paste('2020/',as.character(Date.of.update),sep="")))
View(COVID_19_Resource)
COVID_19_Resource<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City),
State=str_remove(State," "),
City=str_remove(City," "))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=paste('2020/',as.character(Date.of.update),sep=""))
View(COVID_19_Resource)
ymd(COVID_19_Resource[1,3])
ymd(COVID_19_Resource[1:3,3])
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=paste('2020/',as.character(Date.of.update),sep=""),
Date.of.update=ymd(Date.of.update))
COVID_19_Resource<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City),
State=str_remove(State," "),
City=str_remove(City," "))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=paste('2020/',as.character(Date.of.update),sep=""),
Date.of.update=str_replace(Date.of.update,"/","-"))
View(COVID_19_Resource)
COVID_19_Resource<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/COVID-19-Resource.csv")%>%
separate(State,sep="-",c("State","City"))%>%
mutate(City=ifelse(is.na(City),"Statewide",City),
State=str_remove(State," "),
City=str_remove(City," "))
COVID_19_Resource<-COVID_19_Resource[,!str_detect(variable.names(COVID_19_Resource),regex("X"))]%>%
arrange(State,City)%>%
filter(!Date.of.update=="")%>%
mutate(Date.of.update=paste('2020/',as.character(Date.of.update),sep=""),
Date.of.update=str_replace_all(Date.of.update,"/","-"))
View(COVID_19_Resource)
View(Eviction)
View(COVID_19_Resource)
View(COVID_19_Resource)
rsconnect::deployApp()
Eviction<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov)%>%
select(State,everything())
Eviction<-read.csv("https://willythewoo.github.io/WillyTheWoo/COVID/eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov)%>%
select(State,everything())
Eviction<-read_csv("https://willythewoo.github.io/WillyTheWoo/COVID/eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov)%>%
select(State,everything())%>%
rename("Date Updated"=Date.Updated)
View(Eviction)
View(COVID_19_Resource)
Eviction<-read_csv("https://willythewoo.github.io/WillyTheWoo/COVID/eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov)%>%
select(State,everything())%>%
rename("Date of update"=Date.Updated)
rsconnect::deployApp()
Y
rsconnect::deployApp("~/Documents/GitHub/WillyTheWoo/COVID/COVID.Rmd")
rsconnect::setAccountInfo(name='willychen',
token='5B5DCAFF63B32C4F04F0320A52198C34',
secret='4lfxUC1RDYnrXfydtnQjLfP4AxKGe5EJMW40EIIP')
rsconnect::deployApp("~/Documents/GitHub/WillyTheWoo/COVID/covid-resources.Rmd")
rm(list=ls())
Eviction<-read_csv("https://willythewoo.github.io/WillyTheWoo/COVID/eviction_resources.csv")%>%
mutate(City=ifelse(gov=="Local",City,"Statewide"),
Date.Updated=str_remove(Date.Updated,regex(" .+"))
)%>%
select(-gov)%>%
select(State,everything())%>%
rename("Date of update"=Date.Updated,
"Dates in Effect"="Dates in eEfect")
View(Eviction)
rm(list=ls())
rsconnect::deployApp()
rsconnect::deployApp()
data<-read_dta("/Users/Willy/Documents/OneDrive - The Ohio State University/1.MA Research/Data/use_id_sc_met_R.dta")%>%filter(year==2018)
library(haven)
data<-read_dta("/Users/Willy/Documents/OneDrive - The Ohio State University/1.MA Research/Data/use_id_sc_met_R.dta")%>%filter(year==2018)
n<-data%>%filter(eversanc==0,totalpop>1000000)%>%
summarise_at(vars(div,citdiv,undoc,totalpop,hhincome,incearn,ren, renperc,sex,age),.funs=mean,na.rm=TRUE)
a<-data%>%filter(eversanc==0,totalpop>1000000)%>%
summarise_at(vars(div,citdiv,undoc,totalpop,hhincome,incearn,ren, renperc,sex,age),.funs=mean,na.rm=TRUE)%>%as_vector()
b<-data%>%filter(eversanc==0,totalpop>1000000)%>%
summarise_at(vars(div,citdiv,undoc,totalpop,hhincome,incearn,ren, renperc,sex,age),.funs=sd,na.rm=TRUE)%>%as_vector()
c<-data%>%filter(eversanc==1,totalpop>1000000)%>%
summarise_at(vars(div,citdiv,undoc,totalpop,hhincome,incearn,ren, renperc,sex,age),.funs=mean,na.rm=TRUE)%>%as_vector()
d<-data%>%filter(eversanc==1,totalpop>1000000)%>%
summarise_at(vars(div,citdiv,undoc,totalpop,hhincome,incearn,ren, renperc,sex,age),.funs=sd,na.rm=TRUE)%>%as_vector()
sumt<-bind_cols(n=variable.names(n),mean=a,sd=b,mean2=c,sd2=d)
kable(sumt,format="latex")
b
d
c
require(haven)
require(tidyverse)
city_sc_ar_pop<-readRDS("~/Documents/OneDrive - The Ohio State University/1.MA Research/Data/city_sc_ar_pop_border.rds")
acs<-read_dta(paste("/Users/Willy/Documents/OneDrive - The Ohio State University/1.MA Research/Data/individual_puma.dta",sep=""))
data<-acs%>%
# select(-cityname13)%>%
left_join(city_sc_ar_pop%>%
select(-sanctuary),
by=c("year","met2013"))%>%
left_join(city_sc_ar_pop%>%
filter(year==2010)%>%
group_by(year,met2013)%>%
summarise(pop10=totalpop)%>%
ungroup()%>%
select(met2013,pop10)%>%
mutate(big=ifelse(pop10>1000000,1,0))
)%>%
mutate(undocp=undoc*totalpop,
undocevp=undocev*totalpop,
sancyear2=ifelse(str_detect(cityname13,regex("(, ca)|(, ct)"))&is.na(sancyear2),5000,sancyear2),
sancyear2=ifelse(sancyear2==5000&is.na(sancyear2),2014,sancyear2),
ysc2=ifelse((!is.na(sancyear2))&sancyear2!=5000,year-sancyear2,ifelse(is.na(sancyear2),NA,year-2014)),
statesanc=ifelse(sancyear2==5000&year>=2014,1,0),
sanctuary=ifelse(ysc2>=0&(!is.na(sancyear2)),1,ifelse(is.na(sancyear2),NA,0))
)
# select(met2013,cityname13,everything())
data%>%write_dta(paste("/Users/Willy/Documents/OneDrive - The Ohio State University/1.MA Research/Data/use_id_sc_puma.dta"))
require(haven)
require(tidyverse)
city_sc_ar_pop<-readRDS("~/Documents/OneDrive - The Ohio State University/1.MA Research/Data/city_sc_ar_pop_border.rds")
acs<-read_dta(paste("/Users/Willy/Documents/OneDrive - The Ohio State University/1.MA Research/Data/individual_met.dta",sep=""))
data<-acs%>%
# select(-cityname13)%>%
left_join(city_sc_ar_pop%>%
select(-sanctuary),
by=c("year","met2013","cityname13"))%>%
left_join(city_sc_ar_pop%>%
filter(year==2010)%>%
group_by(year,met2013)%>%
summarise(pop10=totalpop)%>%
ungroup()%>%
select(met2013,pop10)%>%
mutate(big=ifelse(pop10>1000000,1,0))
)%>%
mutate(undocp=undoc*totalpop,
undocevp=undocev*totalpop,
sancyear2=ifelse(str_detect(cityname13,regex("(, ca)|(, ct)"))&is.na(sancyear2),5000,sancyear2),
sancyear2=ifelse(sancyear2==5000&is.na(sancyear2),2014,sancyear2),
ysc2=ifelse((!is.na(sancyear2))&sancyear2!=5000,year-sancyear2,ifelse(is.na(sancyear2),NA,year-2014)),
statesanc=ifelse(sancyear2==5000&year>=2014,1,0),
sanctuary=ifelse(ysc2>=0&(!is.na(sancyear2)),1,ifelse(is.na(sancyear2),NA,0))
)
# select(met2013,cityname13,everything())
data%>%write_dta(paste("/Users/Willy/Documents/OneDrive - The Ohio State University/1.MA Research/Data/use_id_sc_met.dta"))
